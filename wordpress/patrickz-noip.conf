<VirtualHost *:80>
        ServerAdmin webmaster@patrickz.no-ip.org
        ServerName patrickz.no-ip.org
        ServerAlias patrickz.no-ip.org 192.168.55.188
        DocumentRoot /var/www/patrickz

        Alias /robots.txt /srv/httpd/robots/robots-all.txt
        Alias /apple-touch-icon.png /var/www/patrickz/favicon.ico
        Alias /apple-touch-icon-precomposed.png /var/www/patrickz/favicon.ico

        ErrorDocument 403 http://patrickz.no-ip.org
        ErrorDocument 404 http://patrickz.no-ip.org

        RewriteEngine On
        RewriteCond %{HTTP_HOST} !patrickz.no-ip.org$
        RewriteRule (.*) http://patrickz.no-ip.org$1 [R=permanent]

        RewriteRule ^wp-admin/includes/ - [F,L]
        RewriteRule !^wp-includes/ - [S=3]
        RewriteCond %{SCRIPT_FILENAME} !^(.*)wp-includes/ms-files.php
        RewriteRule ^wp-includes/[^/]+\.php$ - [F,L]
        RewriteRule ^wp-includes/js/tinymce/langs/.+\.php - [F,L]
        RewriteRule ^wp-includes/theme-compat/ - [F,L]

        RewriteCond %{REQUEST_METHOD} ^(TRACE|DELETE|TRACK) [NC]
        RewriteRule ^(.*)$ - [F,L]

        RewriteCond %{QUERY_STRING} \.\.\/ [NC,OR]
        RewriteCond %{QUERY_STRING} ^.*\.(bash|git|hg|log|svn|swp|cvs) [NC,OR]
        RewriteCond %{QUERY_STRING} etc/passwd [NC,OR]
        RewriteCond %{QUERY_STRING} boot\.ini [NC,OR]
        RewriteCond %{QUERY_STRING} ftp\:  [NC,OR]
        RewriteCond %{QUERY_STRING} http\:  [NC,OR]
        RewriteCond %{QUERY_STRING} https\:  [NC,OR]
        RewriteCond %{QUERY_STRING} (\<|%3C).*script.*(\>|%3E) [NC,OR]
        RewriteCond %{QUERY_STRING} mosConfig_[a-zA-Z_]{1,21}(=|%3D) [NC,OR]
        RewriteCond %{QUERY_STRING} base64_encode.*\(.*\) [NC,OR]
        RewriteCond %{QUERY_STRING} ^.*(\[|\]|\(|\)|<|>|ê|"|;|\?|\*|=$).* [NC,OR]
        RewriteCond %{QUERY_STRING} ^.*(&#x22;|&#x27;|&#x3C;|&#x3E;|&#x5C;|&#x7B;|&#x7C;).* [NC,OR]
        RewriteCond %{QUERY_STRING} ^.*(%24&x).* [NC,OR]
        RewriteCond %{QUERY_STRING} ^.*(%0|%A|%B|%C|%D|%E|%F|127\.0).* [NC,OR]
        RewriteCond %{QUERY_STRING} ^.*(globals|encode|localhost|loopback).* [NC,OR]
        RewriteCond %{QUERY_STRING} ^.*(request|select|concat|insert|union|declare).* [NC]
        RewriteCond %{QUERY_STRING} !^loggedout=true
        RewriteCond %{QUERY_STRING} !^action=rp
        RewriteCond %{HTTP_COOKIE} !^.*wordpress_logged_in_.*$
        RewriteCond %{HTTP_REFERER} !^http://maps\.googleapis\.com(.*)$
        RewriteRule ^(.*)$ - [F,L]

        <Directory /var/www/patrickz>
                Options Indexes FollowSymLinks Includes MultiViews
                AllowOverride FileInfo
                Order allow,deny
                allow from all
        </Directory>

        php_value max_execution_time 240
        php_value max_input_time 240
        php_value memory_limit 128M
        php_admin_value safe_mode off

	<FilesMatch "(\.htaccess|\.htpasswd|wp-config\.php|install\.php|liesmich\.html|readme\.html)">
                order allow,deny
                deny from all
        </FilesMatch>
        <FilesMatch "(plugin-install\.php|theme-install\.php)">
                order allow,deny
                allow from all
        </FilesMatch>
        <Directory /var/www/patrickz/wp-admin/css/>
                Order deny,allow
                Allow from all
        </Directory>
        <Directory /var/www/patrickz/wp-admin/images/>
                Order deny,allow
                Allow from all
        </Directory>
        ErrorLog /var/log/apache2/patrickz.no-ip.org.de-error.log
        CustomLog /var/log/apache2/patrickz.no-ip.de-access.log combined

        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel warn
</VirtualHost>
